# v1.6.1 beta

* Original: [Release electron v1.6.1 beta - electron/electron](https://github.com/electron/electron/releases/tag/v1.6.1)

**Note:** This is a beta release. This is the second release running on an upgraded version of Chrome and may have some instability and/or regressions. Please file new issues for any bugs you find in it.

This release is published to npm under the beta tag and can be installed via [npm](https://www.npmjs.com/package/electron) install `electron@beta`.

## Bug Fixes

* Node's `Buffer` class is no longer available on the `window` global when Node integration is disabled. [#8605](https://github.com/electron/electron/pull/8605)
* Fixed an issue where certain modules, like `coffee-script`, threw errors when required. [#8618](https://github.com/electron/electron/pull/8618)
* Fixed an issue where the focused window would lose focus when an invisible window was created. [#8676](https://github.com/electron/electron/pull/8676)
* The `minimumFontSize`, `defaultFontSize`, and `defaultMonospaceFontSize` settings can now be configured via the `webpreferences` attribute of a `<webview>` tag. [#8542](https://github.com/electron/electron/pull/8542)
* Fixed a crash where the browser context did not shutdown cleanly. [#8654](https://github.com/electron/electron/pull/8654)
* Fixed a crash on file lock verification. [#8679](https://github.com/electron/electron/pull/8679)

### macOS

* Fixed an issue where a `titleBarStyle` value of `hidden-inset` did not work on certain OS versions. [#8619](https://github.com/electron/electron/pull/8619)
* Fixed an issue where private OS APIs were being used in the Mac App Store build causing apps to be rejected. [#8668](https://github.com/electron/electron/pull/8668)
* Fixed the `scroll-touch-end` event not firing. [#8673](https://github.com/electron/electron/pull/8673)
* Fixed `BrowserWindow.setVibrancy` not working on certain OS versions. [#8717](https://github.com/electron/electron/pull/8717)

## API Changes

* Added a `app.getFileIcon(path, callback)` API to get the native icon for a file type. [#7851](https://github.com/electron/electron/pull/7851)
* The callback specified to the `session.setCertificateVerifyProc` API is now provided the certificate verification result and can be rejected with any error code supported by Chrome. [#7955](https://github.com/electron/electron/pull/7955)
* The `dialog.showMessageBox` API now supports showing a checkbox with a message in the dialog. The state of the checkbox will be provided to the callback. [#8590](https://github.com/electron/electron/pull/8590)
* `webContents` now emits a `will-attach-webview` event that can be used to configure the settings of a `<webview>` tag before it is attached. Calling `event.preventDefault()` will destroy the `<webview>`. [#8584](https://github.com/electron/electron/pull/8584)
* The zoom preferences on `webContents` are now persisted in a session on a per-origin basis. [#8537](https://github.com/electron/electron/pull/8537)
* Added support for `webContents.invalidate()` on non-offscreen pages to schedule a paint of the entire view. [#8628](https://github.com/electron/electron/pull/8628)

### macOS

* `dialog.showSaveDialog` now supports `message`, `nameFieldLabel`, and `showsTagField` options. [#8556](https://github.com/electron/electron/pull/8556)
* `dialog.showOpenDialog` now supports a `message` option. [#8556](https://github.com/electron/electron/pull/8556)
* `dialog.showOpenDialog` now supports a `noResolveAliases` property to disable automatic alias (symlink) resolution. [#8617](https://github.com/electron/electron/pull/8617)
* Added a `crashReporter.setExtraParameter` API to adjust the extra data sent on crashes. [#8648](https://github.com/electron/electron/pull/8648)
